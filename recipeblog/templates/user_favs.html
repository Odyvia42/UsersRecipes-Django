{% extends 'index.html' %}

{% block styles %}
{% load static %}
    <link rel="stylesheet" href=" {% static 'recipeblog/recipe-list.css'%}">
{% endblock %}

    {% block homebutton %}
    <a href=" {% url 'home' %} " class="button">На главную</a>
    {% endblock %}



{% block content %}


    <h2>Избранные рецепты ({{ fav_recipes.count }})</h2>
        {% if paged_recipes %}
            {% for recipe in paged_recipes %}
                {% if recipe.status == 'AC' %}
                    <h3> <a href="{{ recipe.get_absolute_url }}"> {{ recipe.title }} </a></h3>
                    <p> {% if recipe.dish_type == 'SL' %}
                        Салат
                        {% elif recipe.dish_type == 'FC' %}
                        Первое
                        {% elif recipe.dish_type == 'MC' %}
                        Второе
                        {% elif recipe.dish_type == 'DS' %}
                        Десерт
                        {% elif recipe.dish_type == 'BV' %}
                        Напиток
                        {% elif recipe.dish_type == 'BK' %}
                        Выпечка
                        {% endif %} | Автор: {{ recipe.author }} | Опубликован: {{ recipe.publication_date }} |
                        {% if recipe.author == request.user %}
                        <a href=" {% url 'update-recipe' recipe.id %}">Редактировать</a>
                        {% endif %}
                    </p>
                    <img src=" {{ recipe.picture }} " alt=" {{ recipe.title }} ">
                    <p> {{ recipe.description }} </p>
                    <p> Теги: {{ recipe.tags }} </p>
                    <p> ❤️ {{ recipe.likes_amount }} </p>
                {% endif %}
            {% endfor %}
        {% else %}
            <p>{{ user.username }} ещё не добавил(а) в избранное ни одного рецепта.</p>
        {% endif %}

    <div class="pagination">
        {% if paged_recipes.has_previous %}
            <a href="?page=1" class="pages page-nav">&laquo Первая</a>
            <a href="?page= {{ paged_recipes.previous_page_number }} " class="pages page-nav">Предыдущая</a>
        {% endif %}
        <p class="pages current-page">Страница {{ paged_recipes.number }} из {{ paged_recipes.paginator.num_pages }}</p>
        {% if paged_recipes.has_next %}
            <a href="?page= {{ paged_recipes.next_page_number }}" class="pages page-nav">Следующая</a>
            <a href="?page= {{ paged_recipes.paginator.num_pages }} " class="pages page-nav">Последняя &raquo</a>
        {% endif %}
    </div>


{% endblock %}
